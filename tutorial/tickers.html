
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>Ticker selections &#8212; mypo  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1e043a052b0af929e4d8.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Advanced Explore market data." href="advanced_explore_market_data.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
    <a class="navbar-brand" href="../index.html">
      <p class="title">mypo</p>
    </a>
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="withdraw.html">
  Withdraw rate
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="explore_market_data.html">
  Explore market data.
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="optimizer.html">
  Optimize the portfolio.
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="advanced_explore_market_data.html">
  Advanced Explore market data.
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Ticker selections
 </a>
</li>

        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    
</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Ticker-selections">
<h1>Ticker selections<a class="headerlink" href="#Ticker-selections" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># If you would like to refresh your data, please execute the bellow codes.</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="kn">from</span> <span class="nn">mypo</span> <span class="kn">import</span> <span class="n">Loader</span>

<span class="n">DOWNLOAD</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">if</span> <span class="n">DOWNLOAD</span><span class="p">:</span>
    <span class="n">tickers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;/app/docs/tutorial/tickers.csv&quot;</span><span class="p">)</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">Loader</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">tickers</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s1">&#39;record&#39;</span><span class="p">)):</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Ticker&#39;</span><span class="p">],</span> <span class="n">expense_ratio</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;ExpenseRatio&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.01</span><span class="p">)</span>
    <span class="n">loader</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;/app/docs/tutorial/all.bin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">loader</span> <span class="o">=</span> <span class="n">Loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;/app/docs/tutorial/all.bin&#39;</span><span class="p">)</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">since</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2005</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">market</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_market</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

<span class="n">summary</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="n">summary</span> <span class="o">=</span> <span class="n">summary</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">summary</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>established</th>
      <th>names</th>
      <th>total_assets</th>
      <th>volume</th>
      <th>expense_ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AGG</th>
      <td>2003-09-29</td>
      <td>iShares Core U.S. Aggregate Bond ETF</td>
      <td>85938724864</td>
      <td>6466483</td>
      <td>0.0005</td>
    </tr>
    <tr>
      <th>BBH</th>
      <td>1999-11-23</td>
      <td>VanEck Vectors Biotech ETF</td>
      <td>495472128</td>
      <td>6928</td>
      <td>0.0035</td>
    </tr>
    <tr>
      <th>DIA</th>
      <td>1998-01-20</td>
      <td>SPDR Dow Jones Industrial Average ETF Trust</td>
      <td>25793642496</td>
      <td>4995800</td>
      <td>0.0016</td>
    </tr>
    <tr>
      <th>DVY</th>
      <td>2003-11-07</td>
      <td>iShares Select Dividend ETF</td>
      <td>15882481664</td>
      <td>1065285</td>
      <td>0.0039</td>
    </tr>
    <tr>
      <th>EEM</th>
      <td>2003-04-14</td>
      <td>iShares MSCI Emerging Markets ETF</td>
      <td>29338421248</td>
      <td>65868433</td>
      <td>0.0070</td>
    </tr>
    <tr>
      <th>EFA</th>
      <td>2001-08-27</td>
      <td>iShares MSCI EAFE ETF</td>
      <td>53298008064</td>
      <td>24144216</td>
      <td>0.0032</td>
    </tr>
    <tr>
      <th>EPP</th>
      <td>2001-10-26</td>
      <td>iShares MSCI Pacific ex Japan ETF</td>
      <td>2290522112</td>
      <td>271300</td>
      <td>0.0048</td>
    </tr>
    <tr>
      <th>EWG</th>
      <td>1996-03-18</td>
      <td>iShares MSCI Germany ETF</td>
      <td>2596413952</td>
      <td>3059500</td>
      <td>0.0051</td>
    </tr>
    <tr>
      <th>EWJ</th>
      <td>1996-03-18</td>
      <td>iShares MSCI Japan ETF</td>
      <td>13236024320</td>
      <td>6636166</td>
      <td>0.0051</td>
    </tr>
    <tr>
      <th>EWM</th>
      <td>1996-03-18</td>
      <td>iShares MSCI Malaysia ETF</td>
      <td>380267392</td>
      <td>300166</td>
      <td>0.0051</td>
    </tr>
    <tr>
      <th>EWS</th>
      <td>1996-03-18</td>
      <td>iShares MSCI Singapore ETF</td>
      <td>687225344</td>
      <td>808916</td>
      <td>0.0051</td>
    </tr>
    <tr>
      <th>EWT</th>
      <td>2000-06-23</td>
      <td>iShares MSCI Taiwan ETF</td>
      <td>6486734848</td>
      <td>4573600</td>
      <td>0.0059</td>
    </tr>
    <tr>
      <th>EWW</th>
      <td>1996-03-18</td>
      <td>iShares MSCI Mexico ETF</td>
      <td>1102177408</td>
      <td>2010550</td>
      <td>0.0051</td>
    </tr>
    <tr>
      <th>EWY</th>
      <td>2000-05-12</td>
      <td>iShares MSCI South Korea ETF</td>
      <td>7541572096</td>
      <td>3806900</td>
      <td>0.0059</td>
    </tr>
    <tr>
      <th>EWZ</th>
      <td>2000-07-14</td>
      <td>iShares MSCI Brazil ETF</td>
      <td>5664168448</td>
      <td>36467616</td>
      <td>0.0059</td>
    </tr>
    <tr>
      <th>EZA</th>
      <td>2003-02-07</td>
      <td>iShares MSCI South Africa ETF</td>
      <td>363515744</td>
      <td>435350</td>
      <td>0.0059</td>
    </tr>
    <tr>
      <th>FEZ</th>
      <td>2002-10-21</td>
      <td>SPDR EURO STOXX 50 ETF</td>
      <td>1917581312</td>
      <td>1547814</td>
      <td>0.0029</td>
    </tr>
    <tr>
      <th>FVD</th>
      <td>2003-08-27</td>
      <td>First Trust Value Line Dividend Index Fund</td>
      <td>10207452160</td>
      <td>1312757</td>
      <td>0.0070</td>
    </tr>
    <tr>
      <th>FXI</th>
      <td>2004-10-08</td>
      <td>iShares China Large-Cap ETF</td>
      <td>3968556544</td>
      <td>22471583</td>
      <td>0.0074</td>
    </tr>
    <tr>
      <th>GLD</th>
      <td>2004-11-18</td>
      <td>SPDR Gold Shares</td>
      <td>61256667136</td>
      <td>8173883</td>
      <td>0.0040</td>
    </tr>
    <tr>
      <th>IBB</th>
      <td>2001-02-12</td>
      <td>iShares Nasdaq Biotechnology ETF</td>
      <td>10739421184</td>
      <td>3847850</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IEF</th>
      <td>2002-07-30</td>
      <td>iShares 7-10 Year Treasury Bond ETF</td>
      <td>13733128192</td>
      <td>8693385</td>
      <td>0.0015</td>
    </tr>
    <tr>
      <th>IEV</th>
      <td>2000-07-28</td>
      <td>iShares Europe ETF</td>
      <td>1614006528</td>
      <td>184150</td>
      <td>0.0059</td>
    </tr>
    <tr>
      <th>IJH</th>
      <td>2000-05-26</td>
      <td>iShares Core S&amp;P Mid-Cap ETF</td>
      <td>57643962368</td>
      <td>1298516</td>
      <td>0.0007</td>
    </tr>
    <tr>
      <th>IJR</th>
      <td>2000-05-26</td>
      <td>iShares Core S&amp;P Small-Cap ETF</td>
      <td>65687891968</td>
      <td>4676383</td>
      <td>0.0007</td>
    </tr>
    <tr>
      <th>ILF</th>
      <td>2001-10-26</td>
      <td>iShares Latin America 40 ETF</td>
      <td>1607567872</td>
      <td>1201650</td>
      <td>0.0048</td>
    </tr>
    <tr>
      <th>IOO</th>
      <td>2000-12-08</td>
      <td>iShares Global 100 ETF</td>
      <td>2866996480</td>
      <td>49850</td>
      <td>0.0040</td>
    </tr>
    <tr>
      <th>IVV</th>
      <td>2000-05-19</td>
      <td>iShares Core S&amp;P 500 ETF</td>
      <td>248764645376</td>
      <td>4857700</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>IWM</th>
      <td>2000-05-26</td>
      <td>iShares Russell 2000 ETF</td>
      <td>67570257920</td>
      <td>38758250</td>
      <td>0.0019</td>
    </tr>
    <tr>
      <th>IXC</th>
      <td>2001-11-26</td>
      <td>iShares Global Energy ETF</td>
      <td>1312181760</td>
      <td>1771716</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IXG</th>
      <td>2001-11-26</td>
      <td>iShares Global Financials ETF</td>
      <td>392448096</td>
      <td>60933</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IXJ</th>
      <td>2001-11-26</td>
      <td>iShares Global Healthcare ETF</td>
      <td>2635773184</td>
      <td>57400</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IXN</th>
      <td>2001-11-26</td>
      <td>iShares Global Tech ETF</td>
      <td>5045208576</td>
      <td>67850</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IXP</th>
      <td>2001-11-26</td>
      <td>iShares Global Comm Services ETF</td>
      <td>315172352</td>
      <td>16900</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>IYR</th>
      <td>2000-06-19</td>
      <td>iShares U.S. Real Estate ETF</td>
      <td>5353554432</td>
      <td>7896866</td>
      <td>0.0042</td>
    </tr>
    <tr>
      <th>LQD</th>
      <td>2002-07-30</td>
      <td>iShares iBoxx $ Investment Grade Corporate Bon...</td>
      <td>45475938304</td>
      <td>16482216</td>
      <td>0.0014</td>
    </tr>
    <tr>
      <th>OEF</th>
      <td>2000-10-27</td>
      <td>iShares S&amp;P 100 ETF</td>
      <td>6919864320</td>
      <td>336366</td>
      <td>0.0020</td>
    </tr>
    <tr>
      <th>OIH</th>
      <td>2001-02-26</td>
      <td>VanEck Vectors Oil Services ETF</td>
      <td>982728384</td>
      <td>512666</td>
      <td>0.0035</td>
    </tr>
    <tr>
      <th>PPH</th>
      <td>2000-02-01</td>
      <td>VanEck Vectors Pharmaceutical ETF</td>
      <td>177866784</td>
      <td>38185</td>
      <td>0.0035</td>
    </tr>
    <tr>
      <th>QQQ</th>
      <td>1999-03-10</td>
      <td>Invesco QQQ Trust</td>
      <td>150566158336</td>
      <td>58690950</td>
      <td>0.0020</td>
    </tr>
    <tr>
      <th>RWR</th>
      <td>2001-08-27</td>
      <td>SPDR Dow Jones REIT ETF</td>
      <td>1422119168</td>
      <td>112266</td>
      <td>0.0025</td>
    </tr>
    <tr>
      <th>SHY</th>
      <td>2002-07-30</td>
      <td>iShares 1-3 Year Treasury Bond ETF</td>
      <td>19571066880</td>
      <td>2950542</td>
      <td>0.0015</td>
    </tr>
    <tr>
      <th>SPTM</th>
      <td>2000-10-10</td>
      <td>SPDR Portfolio S&amp;P 1500 Composite Stock Market...</td>
      <td>4416926720</td>
      <td>385500</td>
      <td>0.0003</td>
    </tr>
    <tr>
      <th>SPY</th>
      <td>1993-01-29</td>
      <td>SPDR S&amp;P 500 ETF Trust</td>
      <td>331844386816</td>
      <td>104309183</td>
      <td>0.0009</td>
    </tr>
    <tr>
      <th>SPYG</th>
      <td>2000-10-02</td>
      <td>SPDR Portfolio S&amp;P 500 Growth ETF</td>
      <td>9469054976</td>
      <td>1754557</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>SPYV</th>
      <td>2000-10-02</td>
      <td>SPDR Portfolio S&amp;P 500 Value ETF</td>
      <td>8475042304</td>
      <td>4683800</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>TIP</th>
      <td>2003-12-05</td>
      <td>iShares TIPS Bond ETF</td>
      <td>27070128128</td>
      <td>2134016</td>
      <td>0.0019</td>
    </tr>
    <tr>
      <th>TLT</th>
      <td>2002-07-30</td>
      <td>iShares 20+ Year Treasury Bond ETF</td>
      <td>14208894976</td>
      <td>15174800</td>
      <td>0.0015</td>
    </tr>
    <tr>
      <th>VAW</th>
      <td>2004-01-30</td>
      <td>Vanguard Materials Index Fund ETF Shares</td>
      <td>3402372608</td>
      <td>178350</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VB</th>
      <td>2004-01-30</td>
      <td>Vanguard Small-Cap Index Fund ETF Shares</td>
      <td>126852055040</td>
      <td>612400</td>
      <td>0.0005</td>
    </tr>
    <tr>
      <th>VBK</th>
      <td>2004-01-30</td>
      <td>Vanguard Small-Cap Growth Index Fund ETF Shares</td>
      <td>36775653376</td>
      <td>261185</td>
      <td>0.0007</td>
    </tr>
    <tr>
      <th>VBR</th>
      <td>2004-01-30</td>
      <td>Vanguard Small-Cap Value Index Fund ETF Shares</td>
      <td>41491427328</td>
      <td>865971</td>
      <td>0.0007</td>
    </tr>
    <tr>
      <th>VCR</th>
      <td>2004-01-30</td>
      <td>Vanguard Consumer Discretionary Index Fund ETF...</td>
      <td>5847303680</td>
      <td>108385</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VDC</th>
      <td>2004-01-30</td>
      <td>Vanguard Consumer Staples Index Fund ETF Shares</td>
      <td>6030645248</td>
      <td>103342</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VDE</th>
      <td>2004-09-29</td>
      <td>Vanguard Energy Index Fund ETF Shares</td>
      <td>5519504384</td>
      <td>1236583</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VFH</th>
      <td>2004-01-30</td>
      <td>Vanguard Financials Index Fund ETF Shares</td>
      <td>9052135424</td>
      <td>983885</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VGT</th>
      <td>2004-01-30</td>
      <td>Vanguard Information Technology Index Fund ETF...</td>
      <td>47322968064</td>
      <td>389300</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VHT</th>
      <td>2004-01-30</td>
      <td>Vanguard Health Care Index Fund ETF Shares</td>
      <td>16024404992</td>
      <td>199900</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VIS</th>
      <td>2004-09-29</td>
      <td>Vanguard Industrials Index Fund ETF Shares</td>
      <td>4589979136</td>
      <td>222228</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VO</th>
      <td>2004-01-30</td>
      <td>Vanguard Mid-Cap Index Fund ETF Shares</td>
      <td>139115184128</td>
      <td>648700</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>VOX</th>
      <td>2004-09-29</td>
      <td>Vanguard Communication Services Index Fund ETF...</td>
      <td>3631347200</td>
      <td>145057</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VPU</th>
      <td>2004-01-30</td>
      <td>Vanguard Utilities Index Fund ETF Shares</td>
      <td>5383611904</td>
      <td>299085</td>
      <td>0.0010</td>
    </tr>
    <tr>
      <th>VTI</th>
      <td>2001-06-15</td>
      <td>Vanguard Total Stock Market Index Fund ETF Shares</td>
      <td>1111393697792</td>
      <td>4513800</td>
      <td>0.0003</td>
    </tr>
    <tr>
      <th>VTV</th>
      <td>2004-01-30</td>
      <td>Vanguard Value Index Fund ETF Shares</td>
      <td>104958713856</td>
      <td>3527116</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>VUG</th>
      <td>2004-01-30</td>
      <td>Vanguard Growth Index Fund ETF Shares</td>
      <td>144793616384</td>
      <td>883000</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>VV</th>
      <td>2004-01-30</td>
      <td>Vanguard Large-Cap Index Fund ETF Shares</td>
      <td>33485400064</td>
      <td>233642</td>
      <td>0.0004</td>
    </tr>
    <tr>
      <th>VXF</th>
      <td>2002-01-04</td>
      <td>Vanguard Extended Market Index Fund ETF Shares</td>
      <td>105263472640</td>
      <td>408342</td>
      <td>0.0006</td>
    </tr>
    <tr>
      <th>XLB</th>
      <td>1998-12-22</td>
      <td>Materials Select Sector SPDR Fund</td>
      <td>6798151680</td>
      <td>7102666</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLE</th>
      <td>1998-12-22</td>
      <td>Energy Select Sector SPDR Fund</td>
      <td>20450129920</td>
      <td>30564300</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLF</th>
      <td>1998-12-22</td>
      <td>Financial Select Sector SPDR Fund</td>
      <td>34379612160</td>
      <td>57295700</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLI</th>
      <td>1998-12-22</td>
      <td>Industrial Select Sector SPDR Fund</td>
      <td>16734948352</td>
      <td>13214283</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLK</th>
      <td>1998-12-22</td>
      <td>Technology Select Sector SPDR Fund</td>
      <td>37336981504</td>
      <td>8148766</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLP</th>
      <td>1998-12-22</td>
      <td>Consumer Staples Select Sector SPDR Fund</td>
      <td>10185106432</td>
      <td>15865850</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLU</th>
      <td>1998-12-22</td>
      <td>Utilities Select Sector SPDR Fund</td>
      <td>10588869632</td>
      <td>12272500</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLV</th>
      <td>1998-12-22</td>
      <td>Health Care Select Sector SPDR Fund</td>
      <td>24046927872</td>
      <td>8464416</td>
      <td>0.0013</td>
    </tr>
    <tr>
      <th>XLY</th>
      <td>1998-12-22</td>
      <td>Consumer Discretionary Select Sector SPDR Fund</td>
      <td>18783365120</td>
      <td>4381466</td>
      <td>0.0013</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mypo</span> <span class="kn">import</span> <span class="n">clustering_tickers</span><span class="p">,</span> <span class="n">evaluate_combinations</span>
<span class="n">cluster</span> <span class="o">=</span> <span class="n">clustering_tickers</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">corr</span> <span class="o">=</span> <span class="n">market</span><span class="o">.</span><span class="n">get_rate_of_change</span><span class="p">()[</span><span class="n">cluster</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span><span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span><span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Purples&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">corr</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_4_0.png" src="../_images/tutorial_tickers_4_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DIA</th>
      <th>VBK</th>
      <th>VAW</th>
      <th>VUG</th>
      <th>VTV</th>
      <th>IJR</th>
      <th>XLK</th>
      <th>XLB</th>
      <th>XLI</th>
      <th>IOO</th>
      <th>...</th>
      <th>VDC</th>
      <th>XLU</th>
      <th>ILF</th>
      <th>XLV</th>
      <th>XLE</th>
      <th>RWR</th>
      <th>IXC</th>
      <th>OIH</th>
      <th>VPU</th>
      <th>XLP</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>DIA</th>
      <td>1.000000</td>
      <td>0.869771</td>
      <td>0.859922</td>
      <td>0.929926</td>
      <td>0.958851</td>
      <td>0.866318</td>
      <td>0.888003</td>
      <td>0.847780</td>
      <td>0.923129</td>
      <td>0.938661</td>
      <td>...</td>
      <td>0.851901</td>
      <td>0.687816</td>
      <td>0.767659</td>
      <td>0.822007</td>
      <td>0.767047</td>
      <td>0.731212</td>
      <td>0.790183</td>
      <td>0.673832</td>
      <td>0.719169</td>
      <td>0.806004</td>
    </tr>
    <tr>
      <th>VBK</th>
      <td>0.869771</td>
      <td>1.000000</td>
      <td>0.877067</td>
      <td>0.927276</td>
      <td>0.888985</td>
      <td>0.948652</td>
      <td>0.856504</td>
      <td>0.845448</td>
      <td>0.871164</td>
      <td>0.871222</td>
      <td>...</td>
      <td>0.739583</td>
      <td>0.585509</td>
      <td>0.750748</td>
      <td>0.762026</td>
      <td>0.736024</td>
      <td>0.742433</td>
      <td>0.749881</td>
      <td>0.682318</td>
      <td>0.626350</td>
      <td>0.681020</td>
    </tr>
    <tr>
      <th>VAW</th>
      <td>0.859922</td>
      <td>0.877067</td>
      <td>1.000000</td>
      <td>0.857148</td>
      <td>0.881565</td>
      <td>0.863043</td>
      <td>0.778800</td>
      <td>0.979438</td>
      <td>0.875534</td>
      <td>0.860293</td>
      <td>...</td>
      <td>0.713131</td>
      <td>0.597504</td>
      <td>0.801516</td>
      <td>0.691176</td>
      <td>0.806604</td>
      <td>0.689068</td>
      <td>0.821532</td>
      <td>0.747929</td>
      <td>0.633524</td>
      <td>0.657361</td>
    </tr>
    <tr>
      <th>VUG</th>
      <td>0.929926</td>
      <td>0.927276</td>
      <td>0.857148</td>
      <td>1.000000</td>
      <td>0.906242</td>
      <td>0.858485</td>
      <td>0.947440</td>
      <td>0.840877</td>
      <td>0.875607</td>
      <td>0.931639</td>
      <td>...</td>
      <td>0.813619</td>
      <td>0.642346</td>
      <td>0.763365</td>
      <td>0.821977</td>
      <td>0.726572</td>
      <td>0.702638</td>
      <td>0.749901</td>
      <td>0.649599</td>
      <td>0.674983</td>
      <td>0.763365</td>
    </tr>
    <tr>
      <th>VTV</th>
      <td>0.958851</td>
      <td>0.888985</td>
      <td>0.881565</td>
      <td>0.906242</td>
      <td>1.000000</td>
      <td>0.900183</td>
      <td>0.847667</td>
      <td>0.859418</td>
      <td>0.919426</td>
      <td>0.935172</td>
      <td>...</td>
      <td>0.838729</td>
      <td>0.701510</td>
      <td>0.779995</td>
      <td>0.806847</td>
      <td>0.793475</td>
      <td>0.794066</td>
      <td>0.809794</td>
      <td>0.703712</td>
      <td>0.735186</td>
      <td>0.791998</td>
    </tr>
    <tr>
      <th>IJR</th>
      <td>0.866318</td>
      <td>0.948652</td>
      <td>0.863043</td>
      <td>0.858485</td>
      <td>0.900183</td>
      <td>1.000000</td>
      <td>0.796108</td>
      <td>0.827230</td>
      <td>0.881274</td>
      <td>0.840896</td>
      <td>...</td>
      <td>0.741441</td>
      <td>0.580604</td>
      <td>0.727546</td>
      <td>0.717123</td>
      <td>0.743758</td>
      <td>0.768430</td>
      <td>0.749193</td>
      <td>0.699281</td>
      <td>0.624710</td>
      <td>0.685955</td>
    </tr>
    <tr>
      <th>XLK</th>
      <td>0.888003</td>
      <td>0.856504</td>
      <td>0.778800</td>
      <td>0.947440</td>
      <td>0.847667</td>
      <td>0.796108</td>
      <td>1.000000</td>
      <td>0.765053</td>
      <td>0.812140</td>
      <td>0.885974</td>
      <td>...</td>
      <td>0.754542</td>
      <td>0.585883</td>
      <td>0.705930</td>
      <td>0.743462</td>
      <td>0.646347</td>
      <td>0.646965</td>
      <td>0.672595</td>
      <td>0.573720</td>
      <td>0.614441</td>
      <td>0.712980</td>
    </tr>
    <tr>
      <th>XLB</th>
      <td>0.847780</td>
      <td>0.845448</td>
      <td>0.979438</td>
      <td>0.840877</td>
      <td>0.859418</td>
      <td>0.827230</td>
      <td>0.765053</td>
      <td>1.000000</td>
      <td>0.865323</td>
      <td>0.845856</td>
      <td>...</td>
      <td>0.705967</td>
      <td>0.589035</td>
      <td>0.782982</td>
      <td>0.694629</td>
      <td>0.786435</td>
      <td>0.662814</td>
      <td>0.802208</td>
      <td>0.723650</td>
      <td>0.621970</td>
      <td>0.657360</td>
    </tr>
    <tr>
      <th>XLI</th>
      <td>0.923129</td>
      <td>0.871164</td>
      <td>0.875534</td>
      <td>0.875607</td>
      <td>0.919426</td>
      <td>0.881274</td>
      <td>0.812140</td>
      <td>0.865323</td>
      <td>1.000000</td>
      <td>0.876364</td>
      <td>...</td>
      <td>0.769169</td>
      <td>0.610453</td>
      <td>0.737309</td>
      <td>0.749752</td>
      <td>0.744118</td>
      <td>0.718018</td>
      <td>0.765819</td>
      <td>0.684192</td>
      <td>0.646028</td>
      <td>0.726137</td>
    </tr>
    <tr>
      <th>IOO</th>
      <td>0.938661</td>
      <td>0.871222</td>
      <td>0.860293</td>
      <td>0.931639</td>
      <td>0.935172</td>
      <td>0.840896</td>
      <td>0.885974</td>
      <td>0.845856</td>
      <td>0.876364</td>
      <td>1.000000</td>
      <td>...</td>
      <td>0.817936</td>
      <td>0.662040</td>
      <td>0.797623</td>
      <td>0.799246</td>
      <td>0.768566</td>
      <td>0.710299</td>
      <td>0.814352</td>
      <td>0.679449</td>
      <td>0.692349</td>
      <td>0.771692</td>
    </tr>
    <tr>
      <th>XLF</th>
      <td>0.831639</td>
      <td>0.783648</td>
      <td>0.755998</td>
      <td>0.764843</td>
      <td>0.907830</td>
      <td>0.822647</td>
      <td>0.720263</td>
      <td>0.730604</td>
      <td>0.803006</td>
      <td>0.810073</td>
      <td>...</td>
      <td>0.671156</td>
      <td>0.525034</td>
      <td>0.667823</td>
      <td>0.644902</td>
      <td>0.644208</td>
      <td>0.800197</td>
      <td>0.658132</td>
      <td>0.581067</td>
      <td>0.557091</td>
      <td>0.638170</td>
    </tr>
    <tr>
      <th>IVV</th>
      <td>0.971586</td>
      <td>0.920425</td>
      <td>0.884701</td>
      <td>0.968585</td>
      <td>0.974418</td>
      <td>0.896794</td>
      <td>0.919108</td>
      <td>0.866823</td>
      <td>0.917129</td>
      <td>0.957534</td>
      <td>...</td>
      <td>0.848233</td>
      <td>0.689193</td>
      <td>0.784988</td>
      <td>0.833389</td>
      <td>0.777848</td>
      <td>0.762258</td>
      <td>0.796592</td>
      <td>0.687790</td>
      <td>0.720523</td>
      <td>0.803017</td>
    </tr>
    <tr>
      <th>EEM</th>
      <td>0.819492</td>
      <td>0.803214</td>
      <td>0.822397</td>
      <td>0.830322</td>
      <td>0.826697</td>
      <td>0.763466</td>
      <td>0.782977</td>
      <td>0.801941</td>
      <td>0.773379</td>
      <td>0.865276</td>
      <td>...</td>
      <td>0.692441</td>
      <td>0.589374</td>
      <td>0.886876</td>
      <td>0.651589</td>
      <td>0.731799</td>
      <td>0.666497</td>
      <td>0.771887</td>
      <td>0.656788</td>
      <td>0.617117</td>
      <td>0.636465</td>
    </tr>
    <tr>
      <th>XLY</th>
      <td>0.881244</td>
      <td>0.885270</td>
      <td>0.801418</td>
      <td>0.906221</td>
      <td>0.882960</td>
      <td>0.861917</td>
      <td>0.846589</td>
      <td>0.781537</td>
      <td>0.857393</td>
      <td>0.862364</td>
      <td>...</td>
      <td>0.771852</td>
      <td>0.573973</td>
      <td>0.699060</td>
      <td>0.733719</td>
      <td>0.647311</td>
      <td>0.740787</td>
      <td>0.672994</td>
      <td>0.580144</td>
      <td>0.607752</td>
      <td>0.727073</td>
    </tr>
    <tr>
      <th>OEF</th>
      <td>0.965464</td>
      <td>0.891342</td>
      <td>0.850503</td>
      <td>0.961625</td>
      <td>0.958326</td>
      <td>0.864797</td>
      <td>0.923967</td>
      <td>0.834174</td>
      <td>0.888974</td>
      <td>0.952887</td>
      <td>...</td>
      <td>0.846495</td>
      <td>0.671823</td>
      <td>0.764354</td>
      <td>0.832141</td>
      <td>0.749575</td>
      <td>0.733274</td>
      <td>0.770015</td>
      <td>0.656535</td>
      <td>0.703313</td>
      <td>0.802185</td>
    </tr>
    <tr>
      <th>VTI</th>
      <td>0.966363</td>
      <td>0.941017</td>
      <td>0.894665</td>
      <td>0.970481</td>
      <td>0.972047</td>
      <td>0.914822</td>
      <td>0.914642</td>
      <td>0.875608</td>
      <td>0.922064</td>
      <td>0.952432</td>
      <td>...</td>
      <td>0.838075</td>
      <td>0.682448</td>
      <td>0.792007</td>
      <td>0.831363</td>
      <td>0.783709</td>
      <td>0.766907</td>
      <td>0.802183</td>
      <td>0.702489</td>
      <td>0.717966</td>
      <td>0.786440</td>
    </tr>
    <tr>
      <th>VB</th>
      <td>0.891463</td>
      <td>0.979336</td>
      <td>0.891568</td>
      <td>0.905037</td>
      <td>0.925358</td>
      <td>0.976675</td>
      <td>0.836658</td>
      <td>0.858290</td>
      <td>0.898991</td>
      <td>0.878085</td>
      <td>...</td>
      <td>0.758972</td>
      <td>0.609675</td>
      <td>0.762446</td>
      <td>0.754297</td>
      <td>0.760114</td>
      <td>0.791100</td>
      <td>0.772088</td>
      <td>0.705429</td>
      <td>0.650604</td>
      <td>0.702993</td>
    </tr>
    <tr>
      <th>SPY</th>
      <td>0.972807</td>
      <td>0.917364</td>
      <td>0.882641</td>
      <td>0.966914</td>
      <td>0.968890</td>
      <td>0.891194</td>
      <td>0.916854</td>
      <td>0.868573</td>
      <td>0.913422</td>
      <td>0.956781</td>
      <td>...</td>
      <td>0.844489</td>
      <td>0.690975</td>
      <td>0.790458</td>
      <td>0.834865</td>
      <td>0.780847</td>
      <td>0.756738</td>
      <td>0.800591</td>
      <td>0.692492</td>
      <td>0.723065</td>
      <td>0.796995</td>
    </tr>
    <tr>
      <th>IWM</th>
      <td>0.872141</td>
      <td>0.968264</td>
      <td>0.867357</td>
      <td>0.881413</td>
      <td>0.903052</td>
      <td>0.985255</td>
      <td>0.818583</td>
      <td>0.832570</td>
      <td>0.874518</td>
      <td>0.855278</td>
      <td>...</td>
      <td>0.741009</td>
      <td>0.585935</td>
      <td>0.736642</td>
      <td>0.738085</td>
      <td>0.739503</td>
      <td>0.771069</td>
      <td>0.748146</td>
      <td>0.687964</td>
      <td>0.628200</td>
      <td>0.686802</td>
    </tr>
    <tr>
      <th>QQQ</th>
      <td>0.866875</td>
      <td>0.885500</td>
      <td>0.789130</td>
      <td>0.960488</td>
      <td>0.839871</td>
      <td>0.811052</td>
      <td>0.960147</td>
      <td>0.773442</td>
      <td>0.809378</td>
      <td>0.880761</td>
      <td>...</td>
      <td>0.750314</td>
      <td>0.564430</td>
      <td>0.710482</td>
      <td>0.769879</td>
      <td>0.638354</td>
      <td>0.650540</td>
      <td>0.663526</td>
      <td>0.571567</td>
      <td>0.595447</td>
      <td>0.703784</td>
    </tr>
    <tr>
      <th>IXG</th>
      <td>0.865690</td>
      <td>0.830567</td>
      <td>0.826122</td>
      <td>0.820145</td>
      <td>0.922464</td>
      <td>0.847762</td>
      <td>0.765499</td>
      <td>0.802775</td>
      <td>0.850932</td>
      <td>0.894452</td>
      <td>...</td>
      <td>0.705058</td>
      <td>0.570849</td>
      <td>0.764536</td>
      <td>0.686205</td>
      <td>0.714973</td>
      <td>0.767210</td>
      <td>0.755630</td>
      <td>0.659475</td>
      <td>0.603990</td>
      <td>0.668932</td>
    </tr>
    <tr>
      <th>IXJ</th>
      <td>0.841680</td>
      <td>0.781919</td>
      <td>0.725498</td>
      <td>0.841681</td>
      <td>0.835253</td>
      <td>0.734102</td>
      <td>0.770850</td>
      <td>0.715278</td>
      <td>0.759721</td>
      <td>0.858580</td>
      <td>...</td>
      <td>0.781427</td>
      <td>0.633119</td>
      <td>0.655962</td>
      <td>0.920243</td>
      <td>0.625845</td>
      <td>0.612020</td>
      <td>0.658896</td>
      <td>0.526075</td>
      <td>0.660778</td>
      <td>0.738605</td>
    </tr>
    <tr>
      <th>VBR</th>
      <td>0.887442</td>
      <td>0.941219</td>
      <td>0.877984</td>
      <td>0.863625</td>
      <td>0.933668</td>
      <td>0.976345</td>
      <td>0.796560</td>
      <td>0.842868</td>
      <td>0.899951</td>
      <td>0.860805</td>
      <td>...</td>
      <td>0.755706</td>
      <td>0.616695</td>
      <td>0.750486</td>
      <td>0.724782</td>
      <td>0.760056</td>
      <td>0.819711</td>
      <td>0.770843</td>
      <td>0.708965</td>
      <td>0.658700</td>
      <td>0.702236</td>
    </tr>
    <tr>
      <th>IXN</th>
      <td>0.871600</td>
      <td>0.869056</td>
      <td>0.799441</td>
      <td>0.940605</td>
      <td>0.843625</td>
      <td>0.806089</td>
      <td>0.961666</td>
      <td>0.784384</td>
      <td>0.818938</td>
      <td>0.892990</td>
      <td>...</td>
      <td>0.733284</td>
      <td>0.562642</td>
      <td>0.729926</td>
      <td>0.730146</td>
      <td>0.658537</td>
      <td>0.651479</td>
      <td>0.693423</td>
      <td>0.597997</td>
      <td>0.595405</td>
      <td>0.686984</td>
    </tr>
    <tr>
      <th>VCR</th>
      <td>0.888394</td>
      <td>0.914873</td>
      <td>0.821829</td>
      <td>0.922156</td>
      <td>0.888924</td>
      <td>0.885635</td>
      <td>0.859062</td>
      <td>0.800089</td>
      <td>0.867731</td>
      <td>0.870748</td>
      <td>...</td>
      <td>0.770394</td>
      <td>0.571286</td>
      <td>0.713527</td>
      <td>0.736453</td>
      <td>0.662717</td>
      <td>0.748855</td>
      <td>0.688173</td>
      <td>0.602885</td>
      <td>0.606877</td>
      <td>0.717813</td>
    </tr>
    <tr>
      <th>IEV</th>
      <td>0.862693</td>
      <td>0.820125</td>
      <td>0.838833</td>
      <td>0.846030</td>
      <td>0.872323</td>
      <td>0.801394</td>
      <td>0.787318</td>
      <td>0.826854</td>
      <td>0.831118</td>
      <td>0.944321</td>
      <td>...</td>
      <td>0.734409</td>
      <td>0.612871</td>
      <td>0.792979</td>
      <td>0.718054</td>
      <td>0.748487</td>
      <td>0.679454</td>
      <td>0.811484</td>
      <td>0.676470</td>
      <td>0.642329</td>
      <td>0.690289</td>
    </tr>
    <tr>
      <th>FVD</th>
      <td>0.901211</td>
      <td>0.850322</td>
      <td>0.832414</td>
      <td>0.856385</td>
      <td>0.934691</td>
      <td>0.871691</td>
      <td>0.795079</td>
      <td>0.812366</td>
      <td>0.873052</td>
      <td>0.878689</td>
      <td>...</td>
      <td>0.845053</td>
      <td>0.756226</td>
      <td>0.739084</td>
      <td>0.780426</td>
      <td>0.728263</td>
      <td>0.776453</td>
      <td>0.749267</td>
      <td>0.640503</td>
      <td>0.789455</td>
      <td>0.800937</td>
    </tr>
    <tr>
      <th>FEZ</th>
      <td>0.833518</td>
      <td>0.791538</td>
      <td>0.807229</td>
      <td>0.816890</td>
      <td>0.843060</td>
      <td>0.776010</td>
      <td>0.760972</td>
      <td>0.800581</td>
      <td>0.811930</td>
      <td>0.920803</td>
      <td>...</td>
      <td>0.708883</td>
      <td>0.584572</td>
      <td>0.759975</td>
      <td>0.696500</td>
      <td>0.714797</td>
      <td>0.656739</td>
      <td>0.779993</td>
      <td>0.648607</td>
      <td>0.613336</td>
      <td>0.664106</td>
    </tr>
    <tr>
      <th>SPYV</th>
      <td>0.931580</td>
      <td>0.872869</td>
      <td>0.867751</td>
      <td>0.884321</td>
      <td>0.967756</td>
      <td>0.882300</td>
      <td>0.824350</td>
      <td>0.848537</td>
      <td>0.897823</td>
      <td>0.913700</td>
      <td>...</td>
      <td>0.813409</td>
      <td>0.678743</td>
      <td>0.766787</td>
      <td>0.792578</td>
      <td>0.781642</td>
      <td>0.764095</td>
      <td>0.800059</td>
      <td>0.695843</td>
      <td>0.711173</td>
      <td>0.768008</td>
    </tr>
    <tr>
      <th>SPYG</th>
      <td>0.921529</td>
      <td>0.916050</td>
      <td>0.852974</td>
      <td>0.978670</td>
      <td>0.906594</td>
      <td>0.855805</td>
      <td>0.934377</td>
      <td>0.836243</td>
      <td>0.875577</td>
      <td>0.925110</td>
      <td>...</td>
      <td>0.811578</td>
      <td>0.638953</td>
      <td>0.760513</td>
      <td>0.815486</td>
      <td>0.723481</td>
      <td>0.708832</td>
      <td>0.745329</td>
      <td>0.649058</td>
      <td>0.672039</td>
      <td>0.761069</td>
    </tr>
    <tr>
      <th>SPTM</th>
      <td>0.845721</td>
      <td>0.851057</td>
      <td>0.809884</td>
      <td>0.856033</td>
      <td>0.872768</td>
      <td>0.845549</td>
      <td>0.818432</td>
      <td>0.777248</td>
      <td>0.820377</td>
      <td>0.848449</td>
      <td>...</td>
      <td>0.740941</td>
      <td>0.578150</td>
      <td>0.685892</td>
      <td>0.705979</td>
      <td>0.685172</td>
      <td>0.723721</td>
      <td>0.698825</td>
      <td>0.604295</td>
      <td>0.609432</td>
      <td>0.714002</td>
    </tr>
    <tr>
      <th>DVY</th>
      <td>0.900038</td>
      <td>0.836840</td>
      <td>0.820972</td>
      <td>0.825102</td>
      <td>0.945476</td>
      <td>0.884824</td>
      <td>0.769776</td>
      <td>0.796161</td>
      <td>0.867695</td>
      <td>0.856538</td>
      <td>...</td>
      <td>0.822135</td>
      <td>0.739157</td>
      <td>0.721916</td>
      <td>0.740817</td>
      <td>0.736152</td>
      <td>0.794935</td>
      <td>0.745306</td>
      <td>0.650895</td>
      <td>0.771562</td>
      <td>0.781551</td>
    </tr>
    <tr>
      <th>IJH</th>
      <td>0.912191</td>
      <td>0.961758</td>
      <td>0.907199</td>
      <td>0.911716</td>
      <td>0.936062</td>
      <td>0.961529</td>
      <td>0.841598</td>
      <td>0.876116</td>
      <td>0.913353</td>
      <td>0.887560</td>
      <td>...</td>
      <td>0.778744</td>
      <td>0.645742</td>
      <td>0.778948</td>
      <td>0.762385</td>
      <td>0.786800</td>
      <td>0.786844</td>
      <td>0.797746</td>
      <td>0.730195</td>
      <td>0.686539</td>
      <td>0.721557</td>
    </tr>
    <tr>
      <th>EPP</th>
      <td>0.833605</td>
      <td>0.796831</td>
      <td>0.820277</td>
      <td>0.824322</td>
      <td>0.839725</td>
      <td>0.773790</td>
      <td>0.772561</td>
      <td>0.799410</td>
      <td>0.796021</td>
      <td>0.875208</td>
      <td>...</td>
      <td>0.710467</td>
      <td>0.612158</td>
      <td>0.800903</td>
      <td>0.670782</td>
      <td>0.731836</td>
      <td>0.674681</td>
      <td>0.781948</td>
      <td>0.662192</td>
      <td>0.639717</td>
      <td>0.667346</td>
    </tr>
    <tr>
      <th>EWG</th>
      <td>0.827504</td>
      <td>0.788500</td>
      <td>0.801195</td>
      <td>0.814987</td>
      <td>0.828581</td>
      <td>0.770282</td>
      <td>0.766026</td>
      <td>0.792735</td>
      <td>0.804462</td>
      <td>0.903357</td>
      <td>...</td>
      <td>0.697817</td>
      <td>0.571686</td>
      <td>0.746776</td>
      <td>0.687219</td>
      <td>0.699380</td>
      <td>0.644139</td>
      <td>0.759428</td>
      <td>0.631838</td>
      <td>0.599603</td>
      <td>0.655147</td>
    </tr>
    <tr>
      <th>EFA</th>
      <td>0.879556</td>
      <td>0.833238</td>
      <td>0.850525</td>
      <td>0.864298</td>
      <td>0.883156</td>
      <td>0.810525</td>
      <td>0.807029</td>
      <td>0.837832</td>
      <td>0.840483</td>
      <td>0.950473</td>
      <td>...</td>
      <td>0.748103</td>
      <td>0.629146</td>
      <td>0.811235</td>
      <td>0.728027</td>
      <td>0.757794</td>
      <td>0.689451</td>
      <td>0.817653</td>
      <td>0.684524</td>
      <td>0.658352</td>
      <td>0.701142</td>
    </tr>
    <tr>
      <th>VV</th>
      <td>0.962824</td>
      <td>0.926589</td>
      <td>0.887115</td>
      <td>0.968873</td>
      <td>0.968543</td>
      <td>0.895102</td>
      <td>0.916023</td>
      <td>0.868416</td>
      <td>0.913246</td>
      <td>0.952883</td>
      <td>...</td>
      <td>0.842041</td>
      <td>0.686936</td>
      <td>0.787679</td>
      <td>0.830963</td>
      <td>0.773964</td>
      <td>0.762172</td>
      <td>0.794077</td>
      <td>0.688247</td>
      <td>0.719682</td>
      <td>0.793470</td>
    </tr>
    <tr>
      <th>VOX</th>
      <td>0.829524</td>
      <td>0.821924</td>
      <td>0.748846</td>
      <td>0.848744</td>
      <td>0.836075</td>
      <td>0.792056</td>
      <td>0.818052</td>
      <td>0.727444</td>
      <td>0.768812</td>
      <td>0.829540</td>
      <td>...</td>
      <td>0.744374</td>
      <td>0.606105</td>
      <td>0.705354</td>
      <td>0.707345</td>
      <td>0.639874</td>
      <td>0.674435</td>
      <td>0.669103</td>
      <td>0.575476</td>
      <td>0.639185</td>
      <td>0.694872</td>
    </tr>
    <tr>
      <th>VO</th>
      <td>0.925995</td>
      <td>0.959562</td>
      <td>0.917124</td>
      <td>0.942684</td>
      <td>0.950781</td>
      <td>0.931749</td>
      <td>0.874771</td>
      <td>0.888976</td>
      <td>0.915803</td>
      <td>0.917330</td>
      <td>...</td>
      <td>0.799096</td>
      <td>0.669643</td>
      <td>0.795317</td>
      <td>0.783972</td>
      <td>0.792744</td>
      <td>0.789303</td>
      <td>0.805500</td>
      <td>0.722793</td>
      <td>0.706282</td>
      <td>0.743620</td>
    </tr>
    <tr>
      <th>VIS</th>
      <td>0.924980</td>
      <td>0.906856</td>
      <td>0.898726</td>
      <td>0.891909</td>
      <td>0.934202</td>
      <td>0.915178</td>
      <td>0.824186</td>
      <td>0.872988</td>
      <td>0.978351</td>
      <td>0.889392</td>
      <td>...</td>
      <td>0.771825</td>
      <td>0.613144</td>
      <td>0.758244</td>
      <td>0.744260</td>
      <td>0.757034</td>
      <td>0.743540</td>
      <td>0.780143</td>
      <td>0.700015</td>
      <td>0.651241</td>
      <td>0.722447</td>
    </tr>
    <tr>
      <th>VHT</th>
      <td>0.845192</td>
      <td>0.816965</td>
      <td>0.725520</td>
      <td>0.860907</td>
      <td>0.833589</td>
      <td>0.764202</td>
      <td>0.785249</td>
      <td>0.715492</td>
      <td>0.771222</td>
      <td>0.827059</td>
      <td>...</td>
      <td>0.787570</td>
      <td>0.622719</td>
      <td>0.627211</td>
      <td>0.972123</td>
      <td>0.615737</td>
      <td>0.601995</td>
      <td>0.636107</td>
      <td>0.522213</td>
      <td>0.650093</td>
      <td>0.747722</td>
    </tr>
    <tr>
      <th>VGT</th>
      <td>0.872480</td>
      <td>0.889528</td>
      <td>0.796923</td>
      <td>0.953095</td>
      <td>0.843923</td>
      <td>0.821001</td>
      <td>0.978402</td>
      <td>0.779594</td>
      <td>0.818902</td>
      <td>0.882263</td>
      <td>...</td>
      <td>0.734391</td>
      <td>0.559900</td>
      <td>0.708972</td>
      <td>0.738872</td>
      <td>0.647564</td>
      <td>0.648398</td>
      <td>0.674827</td>
      <td>0.584225</td>
      <td>0.591758</td>
      <td>0.685233</td>
    </tr>
    <tr>
      <th>VFH</th>
      <td>0.844210</td>
      <td>0.812667</td>
      <td>0.776239</td>
      <td>0.781101</td>
      <td>0.920203</td>
      <td>0.857421</td>
      <td>0.731145</td>
      <td>0.750419</td>
      <td>0.826888</td>
      <td>0.818310</td>
      <td>...</td>
      <td>0.687824</td>
      <td>0.541218</td>
      <td>0.677529</td>
      <td>0.662515</td>
      <td>0.662599</td>
      <td>0.828687</td>
      <td>0.676528</td>
      <td>0.603565</td>
      <td>0.576314</td>
      <td>0.650003</td>
    </tr>
    <tr>
      <th>VXF</th>
      <td>0.893055</td>
      <td>0.984175</td>
      <td>0.896732</td>
      <td>0.924254</td>
      <td>0.920468</td>
      <td>0.963747</td>
      <td>0.852105</td>
      <td>0.862989</td>
      <td>0.894648</td>
      <td>0.885221</td>
      <td>...</td>
      <td>0.755786</td>
      <td>0.608857</td>
      <td>0.770781</td>
      <td>0.757711</td>
      <td>0.764835</td>
      <td>0.780850</td>
      <td>0.778306</td>
      <td>0.710835</td>
      <td>0.650455</td>
      <td>0.697834</td>
    </tr>
    <tr>
      <th>IXP</th>
      <td>0.847570</td>
      <td>0.789873</td>
      <td>0.765220</td>
      <td>0.853967</td>
      <td>0.838630</td>
      <td>0.751435</td>
      <td>0.823573</td>
      <td>0.753738</td>
      <td>0.767864</td>
      <td>0.895110</td>
      <td>...</td>
      <td>0.755577</td>
      <td>0.628484</td>
      <td>0.758843</td>
      <td>0.716017</td>
      <td>0.676151</td>
      <td>0.657760</td>
      <td>0.723924</td>
      <td>0.595633</td>
      <td>0.655424</td>
      <td>0.709589</td>
    </tr>
    <tr>
      <th>TLT</th>
      <td>-0.412130</td>
      <td>-0.383589</td>
      <td>-0.401993</td>
      <td>-0.391117</td>
      <td>-0.429299</td>
      <td>-0.399002</td>
      <td>-0.363143</td>
      <td>-0.393610</td>
      <td>-0.417262</td>
      <td>-0.415673</td>
      <td>...</td>
      <td>-0.322620</td>
      <td>-0.186516</td>
      <td>-0.324013</td>
      <td>-0.339039</td>
      <td>-0.363921</td>
      <td>-0.240999</td>
      <td>-0.369691</td>
      <td>-0.345703</td>
      <td>-0.209599</td>
      <td>-0.308096</td>
    </tr>
    <tr>
      <th>IEF</th>
      <td>-0.406660</td>
      <td>-0.379444</td>
      <td>-0.387421</td>
      <td>-0.385468</td>
      <td>-0.419938</td>
      <td>-0.391869</td>
      <td>-0.364150</td>
      <td>-0.376583</td>
      <td>-0.409986</td>
      <td>-0.402275</td>
      <td>...</td>
      <td>-0.310257</td>
      <td>-0.167660</td>
      <td>-0.309643</td>
      <td>-0.319384</td>
      <td>-0.344833</td>
      <td>-0.242757</td>
      <td>-0.346013</td>
      <td>-0.321907</td>
      <td>-0.191506</td>
      <td>-0.292495</td>
    </tr>
    <tr>
      <th>SHY</th>
      <td>-0.349471</td>
      <td>-0.311633</td>
      <td>-0.316383</td>
      <td>-0.333543</td>
      <td>-0.359426</td>
      <td>-0.315619</td>
      <td>-0.324887</td>
      <td>-0.304115</td>
      <td>-0.335881</td>
      <td>-0.334992</td>
      <td>...</td>
      <td>-0.259324</td>
      <td>-0.162849</td>
      <td>-0.280734</td>
      <td>-0.250581</td>
      <td>-0.284270</td>
      <td>-0.236690</td>
      <td>-0.280932</td>
      <td>-0.256859</td>
      <td>-0.182832</td>
      <td>-0.233384</td>
    </tr>
    <tr>
      <th>TIP</th>
      <td>-0.183941</td>
      <td>-0.143031</td>
      <td>-0.139897</td>
      <td>-0.166193</td>
      <td>-0.187488</td>
      <td>-0.166024</td>
      <td>-0.177035</td>
      <td>-0.137096</td>
      <td>-0.175474</td>
      <td>-0.165364</td>
      <td>...</td>
      <td>-0.160758</td>
      <td>-0.037856</td>
      <td>-0.086913</td>
      <td>-0.146323</td>
      <td>-0.080481</td>
      <td>-0.111835</td>
      <td>-0.068387</td>
      <td>-0.061728</td>
      <td>-0.054383</td>
      <td>-0.145454</td>
    </tr>
    <tr>
      <th>GLD</th>
      <td>0.022014</td>
      <td>0.073867</td>
      <td>0.183364</td>
      <td>0.057818</td>
      <td>0.034450</td>
      <td>0.034530</td>
      <td>0.025768</td>
      <td>0.182071</td>
      <td>0.034052</td>
      <td>0.097414</td>
      <td>...</td>
      <td>0.026346</td>
      <td>0.099880</td>
      <td>0.170134</td>
      <td>0.006578</td>
      <td>0.159716</td>
      <td>0.040488</td>
      <td>0.184039</td>
      <td>0.153752</td>
      <td>0.102011</td>
      <td>0.005245</td>
    </tr>
    <tr>
      <th>AGG</th>
      <td>-0.073248</td>
      <td>-0.076123</td>
      <td>-0.088326</td>
      <td>-0.060994</td>
      <td>-0.103255</td>
      <td>-0.114474</td>
      <td>-0.081890</td>
      <td>-0.069001</td>
      <td>-0.091007</td>
      <td>-0.074490</td>
      <td>...</td>
      <td>-0.048654</td>
      <td>0.067850</td>
      <td>-0.010843</td>
      <td>-0.036240</td>
      <td>-0.042224</td>
      <td>-0.059653</td>
      <td>-0.018854</td>
      <td>-0.027207</td>
      <td>0.053771</td>
      <td>-0.054706</td>
    </tr>
    <tr>
      <th>LQD</th>
      <td>0.139391</td>
      <td>0.122096</td>
      <td>0.104734</td>
      <td>0.143108</td>
      <td>0.112181</td>
      <td>0.092104</td>
      <td>0.129717</td>
      <td>0.099175</td>
      <td>0.097572</td>
      <td>0.143377</td>
      <td>...</td>
      <td>0.127522</td>
      <td>0.224748</td>
      <td>0.174924</td>
      <td>0.109768</td>
      <td>0.110562</td>
      <td>0.114057</td>
      <td>0.148874</td>
      <td>0.102070</td>
      <td>0.216361</td>
      <td>0.130587</td>
    </tr>
    <tr>
      <th>PPH</th>
      <td>0.784959</td>
      <td>0.716610</td>
      <td>0.660587</td>
      <td>0.769160</td>
      <td>0.776409</td>
      <td>0.686120</td>
      <td>0.703297</td>
      <td>0.650291</td>
      <td>0.701049</td>
      <td>0.778817</td>
      <td>...</td>
      <td>0.739180</td>
      <td>0.581360</td>
      <td>0.584951</td>
      <td>0.906976</td>
      <td>0.578402</td>
      <td>0.541828</td>
      <td>0.600614</td>
      <td>0.488359</td>
      <td>0.602682</td>
      <td>0.706547</td>
    </tr>
    <tr>
      <th>BBH</th>
      <td>0.600682</td>
      <td>0.654139</td>
      <td>0.538169</td>
      <td>0.677929</td>
      <td>0.584764</td>
      <td>0.574277</td>
      <td>0.610910</td>
      <td>0.531471</td>
      <td>0.549940</td>
      <td>0.607003</td>
      <td>...</td>
      <td>0.550332</td>
      <td>0.402610</td>
      <td>0.448326</td>
      <td>0.762625</td>
      <td>0.445636</td>
      <td>0.398152</td>
      <td>0.457879</td>
      <td>0.388186</td>
      <td>0.422958</td>
      <td>0.525791</td>
    </tr>
    <tr>
      <th>EWJ</th>
      <td>0.755160</td>
      <td>0.706942</td>
      <td>0.706155</td>
      <td>0.740623</td>
      <td>0.744162</td>
      <td>0.687823</td>
      <td>0.695481</td>
      <td>0.697254</td>
      <td>0.706278</td>
      <td>0.794056</td>
      <td>...</td>
      <td>0.648108</td>
      <td>0.543037</td>
      <td>0.675257</td>
      <td>0.632914</td>
      <td>0.627544</td>
      <td>0.574012</td>
      <td>0.668578</td>
      <td>0.565976</td>
      <td>0.567829</td>
      <td>0.604296</td>
    </tr>
    <tr>
      <th>EWM</th>
      <td>0.648649</td>
      <td>0.627570</td>
      <td>0.639987</td>
      <td>0.652809</td>
      <td>0.658039</td>
      <td>0.602736</td>
      <td>0.605064</td>
      <td>0.626766</td>
      <td>0.615937</td>
      <td>0.683353</td>
      <td>...</td>
      <td>0.570333</td>
      <td>0.486255</td>
      <td>0.676910</td>
      <td>0.537122</td>
      <td>0.565548</td>
      <td>0.518197</td>
      <td>0.611127</td>
      <td>0.511232</td>
      <td>0.508715</td>
      <td>0.537761</td>
    </tr>
    <tr>
      <th>EWS</th>
      <td>0.757586</td>
      <td>0.722028</td>
      <td>0.734400</td>
      <td>0.746468</td>
      <td>0.763601</td>
      <td>0.702817</td>
      <td>0.707160</td>
      <td>0.714523</td>
      <td>0.716755</td>
      <td>0.790721</td>
      <td>...</td>
      <td>0.638935</td>
      <td>0.546921</td>
      <td>0.744543</td>
      <td>0.597199</td>
      <td>0.652219</td>
      <td>0.622553</td>
      <td>0.691001</td>
      <td>0.587488</td>
      <td>0.572683</td>
      <td>0.597232</td>
    </tr>
    <tr>
      <th>EWT</th>
      <td>0.715626</td>
      <td>0.702069</td>
      <td>0.695235</td>
      <td>0.729240</td>
      <td>0.715092</td>
      <td>0.670561</td>
      <td>0.707842</td>
      <td>0.671848</td>
      <td>0.672334</td>
      <td>0.752701</td>
      <td>...</td>
      <td>0.602605</td>
      <td>0.492329</td>
      <td>0.707873</td>
      <td>0.563018</td>
      <td>0.605390</td>
      <td>0.571911</td>
      <td>0.645630</td>
      <td>0.540571</td>
      <td>0.515743</td>
      <td>0.562492</td>
    </tr>
    <tr>
      <th>EWW</th>
      <td>0.749473</td>
      <td>0.737346</td>
      <td>0.754848</td>
      <td>0.741360</td>
      <td>0.764335</td>
      <td>0.722588</td>
      <td>0.690342</td>
      <td>0.745610</td>
      <td>0.730071</td>
      <td>0.769715</td>
      <td>...</td>
      <td>0.652276</td>
      <td>0.552944</td>
      <td>0.868737</td>
      <td>0.604140</td>
      <td>0.678201</td>
      <td>0.624481</td>
      <td>0.712109</td>
      <td>0.622968</td>
      <td>0.583229</td>
      <td>0.607156</td>
    </tr>
    <tr>
      <th>EWY</th>
      <td>0.748854</td>
      <td>0.718169</td>
      <td>0.729390</td>
      <td>0.745971</td>
      <td>0.745754</td>
      <td>0.688466</td>
      <td>0.707370</td>
      <td>0.707866</td>
      <td>0.704967</td>
      <td>0.782564</td>
      <td>...</td>
      <td>0.631580</td>
      <td>0.549735</td>
      <td>0.748879</td>
      <td>0.596911</td>
      <td>0.647487</td>
      <td>0.599072</td>
      <td>0.687443</td>
      <td>0.578000</td>
      <td>0.572454</td>
      <td>0.590696</td>
    </tr>
    <tr>
      <th>EWZ</th>
      <td>0.704566</td>
      <td>0.689759</td>
      <td>0.742203</td>
      <td>0.704389</td>
      <td>0.714451</td>
      <td>0.662959</td>
      <td>0.652066</td>
      <td>0.725048</td>
      <td>0.675789</td>
      <td>0.736624</td>
      <td>...</td>
      <td>0.599750</td>
      <td>0.535359</td>
      <td>0.962983</td>
      <td>0.547075</td>
      <td>0.692098</td>
      <td>0.551737</td>
      <td>0.733073</td>
      <td>0.642342</td>
      <td>0.561677</td>
      <td>0.551955</td>
    </tr>
    <tr>
      <th>EZA</th>
      <td>0.732961</td>
      <td>0.710036</td>
      <td>0.752886</td>
      <td>0.735178</td>
      <td>0.741908</td>
      <td>0.685686</td>
      <td>0.690177</td>
      <td>0.731437</td>
      <td>0.693037</td>
      <td>0.783003</td>
      <td>...</td>
      <td>0.626994</td>
      <td>0.531354</td>
      <td>0.800965</td>
      <td>0.585760</td>
      <td>0.679188</td>
      <td>0.580618</td>
      <td>0.724985</td>
      <td>0.610763</td>
      <td>0.558463</td>
      <td>0.582822</td>
    </tr>
    <tr>
      <th>IYR</th>
      <td>0.745535</td>
      <td>0.762739</td>
      <td>0.707305</td>
      <td>0.727310</td>
      <td>0.809894</td>
      <td>0.777310</td>
      <td>0.669657</td>
      <td>0.676573</td>
      <td>0.725958</td>
      <td>0.730150</td>
      <td>...</td>
      <td>0.672800</td>
      <td>0.607281</td>
      <td>0.632428</td>
      <td>0.580295</td>
      <td>0.568377</td>
      <td>0.985160</td>
      <td>0.584143</td>
      <td>0.493876</td>
      <td>0.634718</td>
      <td>0.629518</td>
    </tr>
    <tr>
      <th>FXI</th>
      <td>0.714326</td>
      <td>0.696411</td>
      <td>0.703718</td>
      <td>0.724635</td>
      <td>0.722716</td>
      <td>0.661186</td>
      <td>0.686130</td>
      <td>0.682638</td>
      <td>0.664017</td>
      <td>0.753865</td>
      <td>...</td>
      <td>0.592935</td>
      <td>0.494691</td>
      <td>0.739630</td>
      <td>0.569668</td>
      <td>0.622189</td>
      <td>0.580825</td>
      <td>0.656638</td>
      <td>0.553764</td>
      <td>0.516139</td>
      <td>0.546950</td>
    </tr>
    <tr>
      <th>IBB</th>
      <td>0.670925</td>
      <td>0.773234</td>
      <td>0.626700</td>
      <td>0.753445</td>
      <td>0.673162</td>
      <td>0.694945</td>
      <td>0.682552</td>
      <td>0.614628</td>
      <td>0.636920</td>
      <td>0.677039</td>
      <td>...</td>
      <td>0.598322</td>
      <td>0.438360</td>
      <td>0.524071</td>
      <td>0.803885</td>
      <td>0.514679</td>
      <td>0.498609</td>
      <td>0.524956</td>
      <td>0.458810</td>
      <td>0.466237</td>
      <td>0.565337</td>
    </tr>
    <tr>
      <th>VDE</th>
      <td>0.765567</td>
      <td>0.744098</td>
      <td>0.809422</td>
      <td>0.728436</td>
      <td>0.793160</td>
      <td>0.750663</td>
      <td>0.645657</td>
      <td>0.783941</td>
      <td>0.746029</td>
      <td>0.767195</td>
      <td>...</td>
      <td>0.596870</td>
      <td>0.553504</td>
      <td>0.751532</td>
      <td>0.583858</td>
      <td>0.990476</td>
      <td>0.561408</td>
      <td>0.969876</td>
      <td>0.933035</td>
      <td>0.586600</td>
      <td>0.538133</td>
    </tr>
    <tr>
      <th>VDC</th>
      <td>0.851901</td>
      <td>0.739583</td>
      <td>0.713131</td>
      <td>0.813619</td>
      <td>0.838729</td>
      <td>0.741441</td>
      <td>0.754542</td>
      <td>0.705967</td>
      <td>0.769169</td>
      <td>0.817936</td>
      <td>...</td>
      <td>1.000000</td>
      <td>0.734366</td>
      <td>0.650829</td>
      <td>0.774610</td>
      <td>0.601227</td>
      <td>0.655914</td>
      <td>0.621855</td>
      <td>0.497551</td>
      <td>0.758336</td>
      <td>0.966169</td>
    </tr>
    <tr>
      <th>XLU</th>
      <td>0.687816</td>
      <td>0.585509</td>
      <td>0.597504</td>
      <td>0.642346</td>
      <td>0.701510</td>
      <td>0.580604</td>
      <td>0.585883</td>
      <td>0.589035</td>
      <td>0.610453</td>
      <td>0.662040</td>
      <td>...</td>
      <td>0.734366</td>
      <td>1.000000</td>
      <td>0.566235</td>
      <td>0.612406</td>
      <td>0.563300</td>
      <td>0.588641</td>
      <td>0.573186</td>
      <td>0.443753</td>
      <td>0.983698</td>
      <td>0.709578</td>
    </tr>
    <tr>
      <th>ILF</th>
      <td>0.767659</td>
      <td>0.750748</td>
      <td>0.801516</td>
      <td>0.763365</td>
      <td>0.779995</td>
      <td>0.727546</td>
      <td>0.705930</td>
      <td>0.782982</td>
      <td>0.737309</td>
      <td>0.797623</td>
      <td>...</td>
      <td>0.650829</td>
      <td>0.566235</td>
      <td>1.000000</td>
      <td>0.597093</td>
      <td>0.749818</td>
      <td>0.614648</td>
      <td>0.790075</td>
      <td>0.696054</td>
      <td>0.597546</td>
      <td>0.595558</td>
    </tr>
    <tr>
      <th>XLV</th>
      <td>0.822007</td>
      <td>0.762026</td>
      <td>0.691176</td>
      <td>0.821977</td>
      <td>0.806847</td>
      <td>0.717123</td>
      <td>0.743462</td>
      <td>0.694629</td>
      <td>0.749752</td>
      <td>0.799246</td>
      <td>...</td>
      <td>0.774610</td>
      <td>0.612406</td>
      <td>0.597093</td>
      <td>1.000000</td>
      <td>0.584846</td>
      <td>0.564930</td>
      <td>0.605084</td>
      <td>0.489221</td>
      <td>0.635055</td>
      <td>0.740423</td>
    </tr>
    <tr>
      <th>XLE</th>
      <td>0.767047</td>
      <td>0.736024</td>
      <td>0.806604</td>
      <td>0.726572</td>
      <td>0.793475</td>
      <td>0.743758</td>
      <td>0.646347</td>
      <td>0.786435</td>
      <td>0.744118</td>
      <td>0.768566</td>
      <td>...</td>
      <td>0.601227</td>
      <td>0.563300</td>
      <td>0.749818</td>
      <td>0.584846</td>
      <td>1.000000</td>
      <td>0.559775</td>
      <td>0.968424</td>
      <td>0.921508</td>
      <td>0.593060</td>
      <td>0.547545</td>
    </tr>
    <tr>
      <th>RWR</th>
      <td>0.731212</td>
      <td>0.742433</td>
      <td>0.689068</td>
      <td>0.702638</td>
      <td>0.794066</td>
      <td>0.768430</td>
      <td>0.646965</td>
      <td>0.662814</td>
      <td>0.718018</td>
      <td>0.710299</td>
      <td>...</td>
      <td>0.655914</td>
      <td>0.588641</td>
      <td>0.614648</td>
      <td>0.564930</td>
      <td>0.559775</td>
      <td>1.000000</td>
      <td>0.575178</td>
      <td>0.489726</td>
      <td>0.618624</td>
      <td>0.611561</td>
    </tr>
    <tr>
      <th>IXC</th>
      <td>0.790183</td>
      <td>0.749881</td>
      <td>0.821532</td>
      <td>0.749901</td>
      <td>0.809794</td>
      <td>0.749193</td>
      <td>0.672595</td>
      <td>0.802208</td>
      <td>0.765819</td>
      <td>0.814352</td>
      <td>...</td>
      <td>0.621855</td>
      <td>0.573186</td>
      <td>0.790075</td>
      <td>0.605084</td>
      <td>0.968424</td>
      <td>0.575178</td>
      <td>1.000000</td>
      <td>0.899857</td>
      <td>0.604856</td>
      <td>0.568858</td>
    </tr>
    <tr>
      <th>OIH</th>
      <td>0.673832</td>
      <td>0.682318</td>
      <td>0.747929</td>
      <td>0.649599</td>
      <td>0.703712</td>
      <td>0.699281</td>
      <td>0.573720</td>
      <td>0.723650</td>
      <td>0.684192</td>
      <td>0.679449</td>
      <td>...</td>
      <td>0.497551</td>
      <td>0.443753</td>
      <td>0.696054</td>
      <td>0.489221</td>
      <td>0.921508</td>
      <td>0.489726</td>
      <td>0.899857</td>
      <td>1.000000</td>
      <td>0.476082</td>
      <td>0.443541</td>
    </tr>
    <tr>
      <th>VPU</th>
      <td>0.719169</td>
      <td>0.626350</td>
      <td>0.633524</td>
      <td>0.674983</td>
      <td>0.735186</td>
      <td>0.624710</td>
      <td>0.614441</td>
      <td>0.621970</td>
      <td>0.646028</td>
      <td>0.692349</td>
      <td>...</td>
      <td>0.758336</td>
      <td>0.983698</td>
      <td>0.597546</td>
      <td>0.635055</td>
      <td>0.593060</td>
      <td>0.618624</td>
      <td>0.604856</td>
      <td>0.476082</td>
      <td>1.000000</td>
      <td>0.723289</td>
    </tr>
    <tr>
      <th>XLP</th>
      <td>0.806004</td>
      <td>0.681020</td>
      <td>0.657361</td>
      <td>0.763365</td>
      <td>0.791998</td>
      <td>0.685955</td>
      <td>0.712980</td>
      <td>0.657360</td>
      <td>0.726137</td>
      <td>0.771692</td>
      <td>...</td>
      <td>0.966169</td>
      <td>0.709578</td>
      <td>0.595558</td>
      <td>0.740423</td>
      <td>0.547545</td>
      <td>0.611561</td>
      <td>0.568858</td>
      <td>0.443541</td>
      <td>0.723289</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
<p>76 rows × 76 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">mypo</span> <span class="kn">import</span> <span class="n">split_n_periods</span>
<span class="kn">from</span> <span class="nn">mypo.optimizer</span> <span class="kn">import</span> <span class="n">MinimumVarianceOptimizer</span>
<span class="kn">from</span> <span class="nn">mypo.indicator</span> <span class="kn">import</span> <span class="n">yearly_total_return</span><span class="p">,</span> <span class="n">max_drawdown</span><span class="p">,</span> <span class="n">max_drawdown_span</span>
<span class="kn">from</span> <span class="nn">mypo.rebalancer</span> <span class="kn">import</span> <span class="n">MonthlyRebalancer</span>
<span class="kn">from</span> <span class="nn">mypo</span> <span class="kn">import</span> <span class="n">Runner</span>

<span class="n">trains</span><span class="p">,</span> <span class="n">evals</span> <span class="o">=</span> <span class="n">split_n_periods</span><span class="p">(</span><span class="n">market</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">trains</span><span class="p">)):</span>
    <span class="n">evaluates</span> <span class="o">=</span> <span class="n">evaluate_combinations</span><span class="p">(</span><span class="n">trains</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">evaluates</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span>
    <span class="n">top_10_r</span> <span class="o">=</span> <span class="n">evaluates</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">top_10_r</span><span class="p">)</span>

    <span class="n">target</span> <span class="o">=</span> <span class="n">evals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">top_10_r</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">MinimumVarianceOptimizer</span><span class="p">()</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span>
        <span class="n">rebalancer</span><span class="o">=</span><span class="n">MonthlyRebalancer</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">do_re_optimize</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">cash</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>

    <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">market</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
        <span class="n">train_span</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">optimizer</span><span class="o">.</span><span class="n">get_weights</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yearly_total_return</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown_span</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:57&lt;00:00, 224.96it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 347.41it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                         c         r         q  sharp ratio
9524  [EPP, TLT, GLD, IXC]  0.000521  0.000020    25.736610
9505  [EPP, TLT, GLD, BBH]  0.000518  0.000020    26.357671
3457  [EEM, TLT, GLD, BBH]  0.000515  0.000020    25.919526
9519  [EPP, TLT, GLD, XLU]  0.000510  0.000019    26.206502
9526  [EPP, TLT, GLD, VPU]  0.000507  0.000020    25.964359
3476  [EEM, TLT, GLD, IXC]  0.000504  0.000021    24.438764
9510  [EPP, TLT, GLD, EWW]  0.000502  0.000020    24.884705
9522  [EPP, TLT, GLD, XLE]  0.000502  0.000020    24.608404
9525  [EPP, TLT, GLD, OIH]  0.000498  0.000020    24.479251
9517  [EPP, TLT, GLD, VDE]  0.000495  0.000020    24.207373
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 362.83it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.1423237  0.6922958  0.06138576 0.10399473]
1.1470321598169286
0.9115823019315082
102
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_6_4.png" src="../_images/tutorial_tickers_6_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:58&lt;00:00, 222.25it/s]
  6%|▌         | 36/583 [00:00&lt;00:01, 358.58it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                           c         r         q  sharp ratio
8785   [SPTM, SHY, GLD, BBH]  0.000158  0.000002    66.001901
3049    [XLF, SHY, AGG, BBH]  0.000155  0.000002    75.267060
9097    [DVY, SHY, AGG, BBH]  0.000152  0.000002    71.929477
3025    [XLF, SHY, GLD, BBH]  0.000152  0.000002    74.218053
9073    [DVY, SHY, GLD, BBH]  0.000151  0.000002    71.656670
12265   [VFH, SHY, AGG, BBH]  0.000150  0.000002    73.423391
8803   [SPTM, SHY, GLD, RWR]  0.000150  0.000002    62.584329
12241   [VFH, SHY, GLD, BBH]  0.000147  0.000002    72.572580
6217    [IXJ, SHY, AGG, BBH]  0.000146  0.000002    61.414623
3073    [XLF, SHY, LQD, BBH]  0.000146  0.000002    71.319316
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 360.37it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1.29055923e-02 9.81667772e-01 6.50521303e-19 5.42663545e-03]
1.0365529193619765
0.9937746874182035
44
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_6_9.png" src="../_images/tutorial_tickers_6_9.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [01:00&lt;00:00, 214.00it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 345.37it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                         c         r         q  sharp ratio
289   [VBK, TLT, GLD, BBH]  0.001121  0.000032    35.059727
1441  [IJR, TLT, GLD, BBH]  0.001118  0.000031    35.970719
5185  [IWM, TLT, GLD, BBH]  0.001101  0.000032    34.957192
9505  [EPP, TLT, GLD, BBH]  0.001090  0.000032    34.365814
4609   [VB, TLT, GLD, BBH]  0.001084  0.000031    34.958032
9793  [EWG, TLT, GLD, BBH]  0.001083  0.000031    34.526388
3457  [EEM, TLT, GLD, BBH]  0.001074  0.000031    34.170793
577   [VAW, TLT, GLD, BBH]  0.001069  0.000031    34.051546
1452  [IJR, TLT, GLD, IBB]  0.001059  0.000035    30.511947
6337  [VBR, TLT, GLD, BBH]  0.001058  0.000030    34.959154
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 362.33it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.32962422 0.52319394 0.14718184 0.        ]
1.1115117765875597
0.930248204186665
116
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_6_14.png" src="../_images/tutorial_tickers_6_14.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:57&lt;00:00, 225.18it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 346.79it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r         q  sharp ratio
11539  [VHT, TLT, GLD, RWR]  0.000866  0.000016    55.209564
11530  [VHT, TLT, GLD, IYR]  0.000843  0.000015    54.803737
5491   [QQQ, TLT, GLD, RWR]  0.000825  0.000014    59.155575
11531  [VHT, TLT, GLD, FXI]  0.000818  0.000016    51.369447
5482   [QQQ, TLT, GLD, IYR]  0.000809  0.000014    58.263252
11535  [VHT, TLT, GLD, XLU]  0.000797  0.000017    47.010604
11521  [VHT, TLT, GLD, BBH]  0.000795  0.000017    45.773166
11532  [VHT, TLT, GLD, IBB]  0.000795  0.000017    45.769378
11542  [VHT, TLT, GLD, VPU]  0.000793  0.000017    46.938598
11537  [VHT, TLT, GLD, XLV]  0.000790  0.000017    45.710211
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 364.88it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.37077988 0.25688214 0.20889924 0.16343875]
1.0723282351557646
0.880109098985688
225
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_6_19.png" src="../_images/tutorial_tickers_6_19.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:55&lt;00:00, 233.61it/s]
  6%|▌         | 36/583 [00:00&lt;00:01, 356.36it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                       c         r         q  sharp ratio
3   [DIA, TLT, GLD, EWM]  0.000489  0.000013    36.396841
4   [DIA, TLT, GLD, EWS]  0.000481  0.000014    35.086280
12  [DIA, TLT, GLD, IBB]  0.000478  0.000014    34.679695
21  [DIA, TLT, GLD, OIH]  0.000478  0.000014    34.676860
9   [DIA, TLT, GLD, EZA]  0.000477  0.000014    34.665093
20  [DIA, TLT, GLD, IXC]  0.000477  0.000014    34.645895
11  [DIA, TLT, GLD, FXI]  0.000477  0.000014    34.641326
7   [DIA, TLT, GLD, EWY]  0.000477  0.000014    34.641103
1   [DIA, TLT, GLD, BBH]  0.000477  0.000014    34.640267
16  [DIA, TLT, GLD, ILF]  0.000477  0.000014    34.640140
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 361.73it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.20229628 0.49098431 0.24417896 0.06254045]
1.099510078786256
0.8303309670450653
164
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_6_24.png" src="../_images/tutorial_tickers_6_24.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">trains</span><span class="p">)):</span>
    <span class="n">evaluates</span> <span class="o">=</span> <span class="n">evaluate_combinations</span><span class="p">(</span><span class="n">trains</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">evaluates</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span>
    <span class="n">top_10_sharp_ratio</span> <span class="o">=</span> <span class="n">evaluates</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;sharp ratio&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">top_10_sharp_ratio</span><span class="p">)</span>

    <span class="n">target</span> <span class="o">=</span> <span class="n">evals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">top_10_sharp_ratio</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">MinimumVarianceOptimizer</span><span class="p">()</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span>
        <span class="n">rebalancer</span><span class="o">=</span><span class="n">MonthlyRebalancer</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">do_re_optimize</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">cash</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>

    <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">market</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
        <span class="n">train_span</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">optimizer</span><span class="o">.</span><span class="n">get_weights</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yearly_total_return</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown_span</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:54&lt;00:00, 237.40it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 345.86it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r             q  sharp ratio
11677  [VHT, SHY, GLD, VDE]  0.000089  5.830171e-07   152.756743
11701  [VHT, SHY, AGG, VDE]  0.000089  5.829951e-07   152.688287
11725  [VHT, SHY, LQD, VDE]  0.000089  5.829939e-07   152.473713
11675  [VHT, SHY, GLD, FXI]  0.000087  5.691501e-07   152.113441
11699  [VHT, SHY, AGG, FXI]  0.000086  5.691080e-07   151.966833
11723  [VHT, SHY, LQD, FXI]  0.000086  5.691080e-07   151.965474
11706  [VHT, SHY, AGG, XLE]  0.000088  5.836803e-07   151.593971
11730  [VHT, SHY, LQD, XLE]  0.000088  5.836791e-07   151.385531
11682  [VHT, SHY, GLD, XLE]  0.000088  5.836791e-07   151.382155
11684  [VHT, SHY, GLD, IXC]  0.000088  5.844668e-07   150.861317
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 362.80it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.08269687 0.89455647 0.         0.02274666]
1.10023548851687
0.9820350822220292
35
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_7_4.png" src="../_images/tutorial_tickers_7_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:58&lt;00:00, 221.62it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 345.79it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r         q  sharp ratio
3049   [XLF, SHY, AGG, BBH]  0.000155  0.000002    75.267060
3025   [XLF, SHY, GLD, BBH]  0.000152  0.000002    74.218053
12265  [VFH, SHY, AGG, BBH]  0.000150  0.000002    73.423391
12241  [VFH, SHY, GLD, BBH]  0.000147  0.000002    72.572580
9097   [DVY, SHY, AGG, BBH]  0.000152  0.000002    71.929477
9073   [DVY, SHY, GLD, BBH]  0.000151  0.000002    71.656670
3073   [XLF, SHY, LQD, BBH]  0.000146  0.000002    71.319316
9121   [DVY, SHY, LQD, BBH]  0.000143  0.000002    68.085188
3060   [XLF, SHY, AGG, IBB]  0.000139  0.000002    67.987073
12289  [VFH, SHY, LQD, BBH]  0.000135  0.000002    67.367256
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 354.98it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[5.91805487e-03 9.83643671e-01 1.14274909e-16 1.04382742e-02]
1.033814592711859
0.9931662691018278
47
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_7_9.png" src="../_images/tutorial_tickers_7_9.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:59&lt;00:00, 216.75it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 337.80it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r             q  sharp ratio
12263  [VFH, SHY, GLD, XLP]  0.000091  3.146600e-07   290.360294
5351   [IWM, SHY, GLD, XLP]  0.000091  3.146062e-07   290.191745
455    [VBK, SHY, GLD, XLP]  0.000091  3.145839e-07   290.072755
1607   [IJR, SHY, GLD, XLP]  0.000091  3.145785e-07   290.030756
4775    [VB, SHY, GLD, XLP]  0.000091  3.145735e-07   289.979402
6503   [VBR, SHY, GLD, XLP]  0.000091  3.145717e-07   289.954647
12551  [VXF, SHY, GLD, XLP]  0.000091  3.145688e-07   289.899141
9383   [IJH, SHY, GLD, XLP]  0.000091  3.145677e-07   289.850924
11711  [VHT, SHY, AGG, XLP]  0.000091  3.145435e-07   289.743362
12254  [VFH, SHY, GLD, VDC]  0.000091  3.156368e-07   289.736971
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 359.08it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.02579195 0.97420805 0.         0.        ]
1.0077904281993177
0.9962794999903063
63
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_7_14.png" src="../_images/tutorial_tickers_7_14.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:56&lt;00:00, 229.94it/s]
  6%|▌         | 33/583 [00:00&lt;00:01, 325.72it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                           c         r             q  sharp ratio
3083    [XLF, SHY, LQD, FXI]  0.000044  1.888026e-07   235.488229
3035    [XLF, SHY, GLD, FXI]  0.000044  1.888036e-07   235.105712
12299   [VFH, SHY, LQD, FXI]  0.000044  1.893179e-07   233.823792
3059    [XLF, SHY, AGG, FXI]  0.000044  1.888128e-07   233.761401
12275   [VFH, SHY, AGG, FXI]  0.000044  1.893198e-07   233.281865
12251   [VFH, SHY, GLD, FXI]  0.000044  1.893202e-07   233.250398
8555   [SPYG, SHY, LQD, FXI]  0.000046  1.980188e-07   231.008815
8531   [SPYG, SHY, AGG, FXI]  0.000046  1.980197e-07   230.658928
8507   [SPYG, SHY, GLD, FXI]  0.000046  1.980266e-07   230.118471
8267   [SPYV, SHY, LQD, FXI]  0.000045  1.944986e-07   229.736165
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 354.39it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.03168816 0.96831184 0.         0.        ]
1.0152529056078736
0.9953143039742399
63
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_7_19.png" src="../_images/tutorial_tickers_7_19.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:54&lt;00:00, 237.96it/s]
  7%|▋         | 38/583 [00:00&lt;00:01, 373.04it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r         q  sharp ratio
12134  [VFH, TLT, AGG, VDC]  0.000086  0.000002    49.343876
12356  [VFH, TIP, AGG, IXC]  0.000086  0.000002    49.292619
12195  [VFH, IEF, AGG, EWM]  0.000086  0.000002    49.291900
12123  [VFH, TLT, AGG, EWM]  0.000086  0.000002    49.224095
2979   [XLF, IEF, AGG, EWM]  0.000089  0.000002    49.206405
12206  [VFH, IEF, AGG, VDC]  0.000086  0.000002    49.195379
12215  [VFH, IEF, AGG, XLP]  0.000086  0.000002    49.169682
12143  [VFH, TLT, AGG, XLP]  0.000086  0.000002    49.167566
12342  [VFH, TIP, AGG, EWW]  0.000086  0.000002    49.156835
12343  [VFH, TIP, AGG, EWY]  0.000086  0.000002    49.150978
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 369.75it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.         0.         0.94142189 0.05857811]
1.0787382672475576
0.8896012113467885
81
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_7_24.png" src="../_images/tutorial_tickers_7_24.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">trains</span><span class="p">)):</span>
    <span class="n">evaluates</span> <span class="o">=</span> <span class="n">evaluate_combinations</span><span class="p">(</span><span class="n">trains</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">evaluates</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span>
    <span class="n">top_10_q</span> <span class="o">=</span> <span class="n">evaluates</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">top_10_q</span><span class="p">)</span>

    <span class="n">target</span> <span class="o">=</span> <span class="n">evals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">top_10_q</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">MinimumVarianceOptimizer</span><span class="p">()</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span>
        <span class="n">rebalancer</span><span class="o">=</span><span class="n">MonthlyRebalancer</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">do_re_optimize</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">cash</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>

    <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">market</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
        <span class="n">train_span</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">optimizer</span><span class="o">.</span><span class="n">get_weights</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yearly_total_return</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">max_drawdown_span</span><span class="p">(</span><span class="n">report</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:55&lt;00:00, 232.90it/s]
  6%|▋         | 37/583 [00:00&lt;00:01, 365.15it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                         c         r             q  sharp ratio
2459  [XLI, SHY, GLD, FXI]  0.000073  5.533717e-07   132.031219
2507  [XLI, SHY, LQD, FXI]  0.000073  5.533745e-07   132.126318
2483  [XLI, SHY, AGG, FXI]  0.000073  5.533941e-07   132.342828
2486  [XLI, SHY, AGG, VDC]  0.000070  5.569885e-07   126.467985
2462  [XLI, SHY, GLD, VDC]  0.000070  5.569909e-07   126.398310
2510  [XLI, SHY, LQD, VDC]  0.000070  5.569977e-07   126.424943
2451  [XLI, SHY, GLD, EWM]  0.000068  5.572625e-07   121.894632
2475  [XLI, SHY, AGG, EWM]  0.000068  5.572638e-07   122.001839
2499  [XLI, SHY, LQD, EWM]  0.000068  5.572739e-07   122.048124
203   [DIA, SHY, LQD, FXI]  0.000076  5.575790e-07   136.951418
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 372.55it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[4.76253822e-02 9.36856516e-01 4.33680869e-19 1.55181016e-02]
1.1037545836608296
0.9879815835501963
40
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_8_4.png" src="../_images/tutorial_tickers_8_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:57&lt;00:00, 224.42it/s]
  6%|▋         | 37/583 [00:00&lt;00:01, 367.16it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r         q  sharp ratio
1883   [XLK, SHY, GLD, FXI]  0.000076  0.000002    43.571698
10571   [VV, SHY, LQD, FXI]  0.000078  0.000002    44.853372
10547   [VV, SHY, AGG, FXI]  0.000081  0.000002    46.112898
10523   [VV, SHY, GLD, FXI]  0.000081  0.000002    46.555704
1907   [XLK, SHY, AGG, FXI]  0.000078  0.000002    44.440903
1931   [XLK, SHY, LQD, FXI]  0.000079  0.000002    45.136567
11963  [VGT, SHY, GLD, FXI]  0.000078  0.000002    44.112978
3315   [IVV, SHY, GLD, EWM]  0.000057  0.000002    32.513109
3339   [IVV, SHY, AGG, EWM]  0.000057  0.000002    32.565188
3363   [IVV, SHY, LQD, EWM]  0.000057  0.000002    32.387512
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 373.31it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1.81775317e-02 9.81822468e-01 8.67361738e-19 0.00000000e+00]
1.0360507128782865
0.9933636719465633
79
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_8_9.png" src="../_images/tutorial_tickers_8_9.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:59&lt;00:00, 218.71it/s]
  6%|▌         | 35/583 [00:00&lt;00:01, 321.79it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r             q  sharp ratio
7946   [FEZ, SHY, AGG, EWJ]  0.000072  3.035748e-07   237.534287
7970   [FEZ, SHY, LQD, EWJ]  0.000072  3.035761e-07   237.775492
7922   [FEZ, SHY, GLD, EWJ]  0.000072  3.035778e-07   237.969300
7949   [FEZ, SHY, AGG, EWT]  0.000073  3.042651e-07   238.844191
7959   [FEZ, SHY, AGG, XLU]  0.000078  3.042854e-07   255.140299
7925   [FEZ, SHY, GLD, EWT]  0.000073  3.043274e-07   239.934447
8546  [SPYG, SHY, LQD, EWJ]  0.000077  3.044236e-07   254.480383
8522  [SPYG, SHY, AGG, EWJ]  0.000078  3.044262e-07   254.883477
8498  [SPYG, SHY, GLD, EWJ]  0.000078  3.044272e-07   254.853357
7983   [FEZ, SHY, LQD, XLU]  0.000076  3.044370e-07   250.701700
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 364.27it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.00665256 0.98523454 0.         0.0081129 ]
1.0062916093490124
0.9955136414294857
63
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_8_14.png" src="../_images/tutorial_tickers_8_14.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:55&lt;00:00, 234.91it/s]
  6%|▌         | 34/583 [00:00&lt;00:01, 333.37it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r             q  sharp ratio
3083   [XLF, SHY, LQD, FXI]  0.000044  1.888026e-07   235.488229
3035   [XLF, SHY, GLD, FXI]  0.000044  1.888036e-07   235.105712
3059   [XLF, SHY, AGG, FXI]  0.000044  1.888128e-07   233.761401
3029   [XLF, SHY, GLD, EWT]  0.000042  1.890731e-07   223.001526
3077   [XLF, SHY, LQD, EWT]  0.000042  1.890755e-07   222.960587
3053   [XLF, SHY, AGG, EWT]  0.000042  1.890756e-07   222.963229
12299  [VFH, SHY, LQD, FXI]  0.000044  1.893179e-07   233.823792
12275  [VFH, SHY, AGG, FXI]  0.000044  1.893198e-07   233.281865
12251  [VFH, SHY, GLD, FXI]  0.000044  1.893202e-07   233.250398
12269  [VFH, SHY, AGG, EWT]  0.000042  1.897190e-07   221.908569
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 365.19it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.03168816 0.96831184 0.         0.        ]
1.0152529056078736
0.9953143039742399
63
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_8_19.png" src="../_images/tutorial_tickers_8_19.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 12960/12960 [00:53&lt;00:00, 243.30it/s]
  6%|▋         | 37/583 [00:00&lt;00:01, 365.57it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                          c         r             q  sharp ratio
12287  [VFH, SHY, AGG, XLP]  0.000006  1.883168e-07    29.369760
12311  [VFH, SHY, LQD, XLP]  0.000006  1.883185e-07    29.563610
12263  [VFH, SHY, GLD, XLP]  0.000006  1.883198e-07    29.736774
12306  [VFH, SHY, LQD, XLE]  0.000006  1.883325e-07    29.651287
12258  [VFH, SHY, GLD, XLE]  0.000006  1.883327e-07    29.678062
12253  [VFH, SHY, GLD, VDE]  0.000006  1.883729e-07    30.433155
12277  [VFH, SHY, AGG, VDE]  0.000006  1.883730e-07    30.488982
12282  [VFH, SHY, AGG, XLE]  0.000006  1.883743e-07    33.545414
12301  [VFH, SHY, LQD, VDE]  0.000006  1.883763e-07    31.351917
12278  [VFH, SHY, AGG, VDC]  0.000006  1.883812e-07    30.952869
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 583/583 [00:01&lt;00:00, 366.71it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[5.03923398e-03 9.85843625e-01 1.19804340e-17 9.11714142e-03]
1.0427530191058967
0.9869601220930793
38
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_tickers_8_24.png" src="../_images/tutorial_tickers_8_24.png" />
</div>
</div>
</section>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="advanced_explore_market_data.html" title="previous page">Advanced Explore market data.</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021, sonesuke.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>